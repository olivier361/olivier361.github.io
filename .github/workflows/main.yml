on: push
name: ðŸš€ Deploy website on push
jobs:
  web-deploy:
    name: ðŸŽ‰ Deploy
    runs-on: ubuntu-latest
    steps:
    - name: ðŸšš Get latest code
      uses: actions/checkout@v2

    - name: ðŸ“‚ Sync files
      # You may pin to the exact commit or the version.
      # uses: SamKirkland/FTP-Deploy-Action@6647c2f8ad10f869fded8e5a6253c9da11d7fb47
      uses: SamKirkland/FTP-Deploy-Action@4.3.3
      with:
        # Deployment destination server & path. Formatted as protocol://domain.com:port/full/destination/path/
        server: sftp.csc.uvic.ca
        # FTP account username
        username: ${{ secrets.ftp_server_username }} 
        # FTP account password
        password: ${{ secrets.ftp_server_password }}
        # The local folder to copy, defaults to root project folder
        # optional, default is ./
        local-dir: ./public_html/site-staging
        # Print changes instead of performing changes
        dry-run: true
        # files to exclude from the server
        exclude: |
          **/.git*
          **/.git*/**
          **/.github*
          **/.github*/**
          **/README.md
